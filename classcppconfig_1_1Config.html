<!-- HTML header for doxygen 1.9.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CppConfig: cppconfig::Config Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">CppConfig<span id="projectnumber">&#160;0.1.a91bcf6</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part --><!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classcppconfig_1_1Config.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classcppconfig_1_1Config-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">cppconfig::Config Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Manages application configuration by handling JSON configuration files.  
 <a href="classcppconfig_1_1Config.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="config_8h_source.html">config.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcppconfig_1_1Config_1_1System.html">System</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a system configuration interface. Provides an interface to retrieve the host name and the environment variable name that are used by the <a class="el" href="classcppconfig_1_1Config.html" title="Manages application configuration by handling JSON configuration files.">Config</a> class to load configuration settings.  <a href="structcppconfig_1_1Config_1_1System.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8efbd808e3c186b819a23933d71d2a55" id="r_a8efbd808e3c186b819a23933d71d2a55"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppconfig_1_1Config.html#a8efbd808e3c186b819a23933d71d2a55">Config</a> (<a class="el" href="classcppconfig_1_1Config.html#ae249e03909dc0ea5576cf451d046a4b0">const</a> std::filesystem::path &amp;<a class="el" href="classcppconfig_1_1Config.html#ae249e03909dc0ea5576cf451d046a4b0">fileName</a>, <a class="el" href="classcppconfig_1_1Config.html#ae249e03909dc0ea5576cf451d046a4b0">const</a> <a class="el" href="structcppconfig_1_1Config_1_1System.html">System</a> &amp;<a class="el" href="classcppconfig_1_1Config.html#ae249e03909dc0ea5576cf451d046a4b0">system</a>=<a class="el" href="structcppconfig_1_1Config_1_1System.html#aec3e16af1e6e3a0ed35ba46df74f299a">System::instance</a>())</td></tr>
<tr class="memdesc:a8efbd808e3c186b819a23933d71d2a55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a <a class="el" href="classcppconfig_1_1Config.html" title="Manages application configuration by handling JSON configuration files.">Config</a> object with the specified file path.  <br /></td></tr>
<tr class="separator:a8efbd808e3c186b819a23933d71d2a55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26fa8c8fee0ed377060d6c80b679ba44" id="r_a26fa8c8fee0ed377060d6c80b679ba44"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppconfig_1_1Config.html#a26fa8c8fee0ed377060d6c80b679ba44">Config</a> (<a class="el" href="classcppconfig_1_1Config.html#ae249e03909dc0ea5576cf451d046a4b0">const</a> <a class="el" href="classcppconfig_1_1Config.html#ae249e03909dc0ea5576cf451d046a4b0">char</a> *<a class="el" href="classcppconfig_1_1Config.html#ae249e03909dc0ea5576cf451d046a4b0">buffer</a>, <a class="el" href="classcppconfig_1_1Config.html#ae249e03909dc0ea5576cf451d046a4b0">size_t</a> <a class="el" href="classcppconfig_1_1Config.html#ae249e03909dc0ea5576cf451d046a4b0">len</a>=0)</td></tr>
<tr class="memdesc:a26fa8c8fee0ed377060d6c80b679ba44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a <a class="el" href="classcppconfig_1_1Config.html" title="Manages application configuration by handling JSON configuration files.">Config</a> object with the provided JSON buffer.  <br /></td></tr>
<tr class="separator:a26fa8c8fee0ed377060d6c80b679ba44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace94148172588c6cda994455b4bf83b4" id="r_ace94148172588c6cda994455b4bf83b4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcppconfig_1_1Config.html#ae249e03909dc0ea5576cf451d046a4b0">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcppconfig_1_1Config.html#ace94148172588c6cda994455b4bf83b4">parse</a> (<a class="el" href="classcppconfig_1_1Config.html#ae249e03909dc0ea5576cf451d046a4b0">const</a> <a class="el" href="classcppconfig_1_1Config.html#ae249e03909dc0ea5576cf451d046a4b0">char</a> *<a class="el" href="classcppconfig_1_1Config.html#ae249e03909dc0ea5576cf451d046a4b0">buffer</a>, <a class="el" href="classcppconfig_1_1Config.html#ae249e03909dc0ea5576cf451d046a4b0">size_t</a> <a class="el" href="classcppconfig_1_1Config.html#ae249e03909dc0ea5576cf451d046a4b0">len</a>=0)</td></tr>
<tr class="memdesc:ace94148172588c6cda994455b4bf83b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses the provided JSON buffer and updates the configuration.  <br /></td></tr>
<tr class="separator:ace94148172588c6cda994455b4bf83b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae249e03909dc0ea5576cf451d046a4b0" id="r_ae249e03909dc0ea5576cf451d046a4b0"><td class="memTemplParams" colspan="2">template&lt;typename T  = std::string&gt; </td></tr>
<tr class="memitem:ae249e03909dc0ea5576cf451d046a4b0"><td class="memTemplItemLeft" align="right" valign="top">std::optional&lt; T &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classcppconfig_1_1Config.html#ae249e03909dc0ea5576cf451d046a4b0">get</a> (std::string_view key)</td></tr>
<tr class="memdesc:ae249e03909dc0ea5576cf451d046a4b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a configuration value of the specified type.  <br /></td></tr>
<tr class="separator:ae249e03909dc0ea5576cf451d046a4b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Manages application configuration by handling JSON configuration files. </p>
<p>This class enables the definition and management of a set of default parameters, which can be extended or overridden based on different deployment environments (e.g., development, QA, staging, production) and specific host names. Configuration files should be placed within the application's directory structure. They can subsequently be extended or overridden through the use of environment variables and host names, allowing for flexible and dynamic configuration management.</p>
<p>The class primarily relies on an environment variable (<code>CPPCONFIG_ENV</code>) to determine the deployment environment, and the system's host name to apply host-specific configurations.</p>
<p>The CPPCONFIG_ENV environment variable should contain the deployment environment name of the application. It is crucial for determining the order in which configuration files are loaded. Common values for <code>CPPCONFIG_ENV</code> include <code>development</code>, <code>production</code>, etc.</p>
<p>The system's host name (as returned by the <code>hostname</code> command in lowercase) is utilized as a part of the configuration file naming convention, enabling host-specific configurations.</p>
<p>The class loads configuration files in the following order, allowing each step to override or extend the previous: </p><ul>
<li>default.json - The base configuration. </li>
<li>{deployment}.json - Deployment-specific configuration, where <code>{deployment}</code> is derived from the <code>CPPCONFIG_ENV</code> environment variable. </li>
<li>{hostname}.json - Host-specific configuration, where <code>{hostname}</code> is the system's host name in lowercase. </li>
</ul>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8efbd808e3c186b819a23933d71d2a55" name="a8efbd808e3c186b819a23933d71d2a55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8efbd808e3c186b819a23933d71d2a55">&#9670;&#160;</a></span>Config() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cppconfig::Config::Config </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcppconfig_1_1Config.html#ae249e03909dc0ea5576cf451d046a4b0">const</a> std::filesystem::path &amp;&#160;</td>
          <td class="paramname"><em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcppconfig_1_1Config.html#ae249e03909dc0ea5576cf451d046a4b0">const</a> <a class="el" href="structcppconfig_1_1Config_1_1System.html">System</a> &amp;&#160;</td>
          <td class="paramname"><em>system</em> = <code><a class="el" href="structcppconfig_1_1Config_1_1System.html#aec3e16af1e6e3a0ed35ba46df74f299a">System::instance</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a <a class="el" href="classcppconfig_1_1Config.html" title="Manages application configuration by handling JSON configuration files.">Config</a> object with the specified file path. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileName</td><td>The path to the configuration file. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a26fa8c8fee0ed377060d6c80b679ba44" name="a26fa8c8fee0ed377060d6c80b679ba44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26fa8c8fee0ed377060d6c80b679ba44">&#9670;&#160;</a></span>Config() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cppconfig::Config::Config </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcppconfig_1_1Config.html#ae249e03909dc0ea5576cf451d046a4b0">const</a> <a class="el" href="classcppconfig_1_1Config.html#ae249e03909dc0ea5576cf451d046a4b0">char</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcppconfig_1_1Config.html#ae249e03909dc0ea5576cf451d046a4b0">size_t</a>&#160;</td>
          <td class="paramname"><em>len</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs a <a class="el" href="classcppconfig_1_1Config.html" title="Manages application configuration by handling JSON configuration files.">Config</a> object with the provided JSON buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>The JSON buffer. </td></tr>
    <tr><td class="paramname">len</td><td>The length of the buffer (default is 0, which assumes a null-terminated buffer). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae249e03909dc0ea5576cf451d046a4b0" name="ae249e03909dc0ea5576cf451d046a4b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae249e03909dc0ea5576cf451d046a4b0">&#9670;&#160;</a></span>get()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T  = std::string&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; T &gt; cppconfig::Config::get </td>
          <td>(</td>
          <td class="paramtype">std::string_view&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves a configuration value of the specified type. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>The type of the configuration value. The supported types for T are: <ul>
<li>integer: int64_t, int32_t, int16_t, int8_t, uint64_t, uint32_t, uint16_t and uint8_t </li>
<li>float-point: float, double </li>
<li>string: std::string </li>
<li>bloolean: bool </li>
<li>vector: std::vector&lt;integer|float-point|string|boolean&gt; </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The key to look up in the configuration, supporting dot notation for nested objects and array indexing with '[]' (e.g., "key1.array[3].key2"). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An optional containing the retrieved value, or std::nullopt if the key is not found. </dd></dl>

</div>
</div>
<a id="ace94148172588c6cda994455b4bf83b4" name="ace94148172588c6cda994455b4bf83b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace94148172588c6cda994455b4bf83b4">&#9670;&#160;</a></span>parse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcppconfig_1_1Config.html#ae249e03909dc0ea5576cf451d046a4b0">bool</a> cppconfig::Config::parse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcppconfig_1_1Config.html#ae249e03909dc0ea5576cf451d046a4b0">const</a> <a class="el" href="classcppconfig_1_1Config.html#ae249e03909dc0ea5576cf451d046a4b0">char</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcppconfig_1_1Config.html#ae249e03909dc0ea5576cf451d046a4b0">size_t</a>&#160;</td>
          <td class="paramname"><em>len</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parses the provided JSON buffer and updates the configuration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>The JSON buffer. </td></tr>
    <tr><td class="paramname">len</td><td>The length of the buffer (default is 0, which assumes a null-terminated buffer). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if parsing is successful, false otherwise. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>cppconfig</b></li><li class="navelem"><a class="el" href="classcppconfig_1_1Config.html">Config</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
